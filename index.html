<!DOCTYPE html>
<html lang="es" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ofrenda Digital para Mascotas - Día de los Muertos</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap');
        
        .gradient-bg {
            background: linear-gradient(135deg, #130525 0%, #231046 20%, #551b4b 40%, #6c3a16 60%, #9f4b14 80%, #ffa500 100%);
        }
        
        .playfair-font {
            font-family: 'Playfair Display', serif;
        }
        
        .inter-font {
            font-family: 'Inter', sans-serif;
        }
        
        .floating {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .petal-fall {
            animation: petalFall 12s linear infinite;
        }
        
        @keyframes petalFall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(calc(100vh + 100px)) rotate(360deg); opacity: 0; }
        }
        
        .memorial-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .memorial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(139, 69, 19, 0.3);
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff8c00, #ffa500);
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #8b4513, #ff8c00);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(45deg, #a0522d, #ffa500);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 140, 0, 0.4);
        }
        
        .candle-glow {
            animation: candleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes candleGlow {
            0% { text-shadow: 0 0 10px #ffa500; }
            100% { text-shadow: 0 0 20px #ff8c00, 0 0 30px #ff8c00; }
        }
        
        .smooth-scroll {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="h-full gradient-bg text-white inter-font smooth-scroll">
    <!-- Pétalos cayendo -->
    <div class="petal-fall absolute top-0 left-10 text-2xl pointer-events-none">🐥</div>
    <div class="petal-fall absolute top-0 left-32 text-xl pointer-events-none" style="animation-delay: -3s;">🏵️</div>
    <div class="petal-fall absolute top-0 right-20 text-2xl pointer-events-none" style="animation-delay: -6s;">🏵️</div>
    <div class="petal-fall absolute top-0 right-40 text-xl pointer-events-none" style="animation-delay: -9s;">🏵️</div>
    <div class="petal-fall absolute top-0 right-60 text-2xl pointer-events-none" style="animation-delay: -6s;">🏵️</div>

    <!-- Navegación -->
    <nav class="fixed top-0 w-full bg-black bg-opacity-80 backdrop-filter backdrop-blur-lg z-50 border-b border-orange-500">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <span class="text-2xl">🏵️</span>
                    <span class="ml-2 text-xl font-bold playfair-font text-orange-300">Memorias Eternas</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#inicio" class="nav-link text-orange-200 hover:text-orange-300 px-3 py-2 font-medium">Inicio</a>
                        <a href="#crear-memorial" class="nav-link text-orange-200 hover:text-orange-300 px-3 py-2 font-medium">Crear Memorial</a>
                        <a href="#galeria" class="nav-link text-orange-200 hover:text-orange-300 px-3 py-2 font-medium">Galería</a>
                        <a href="#tradiciones" class="nav-link text-orange-200 hover:text-orange-300 px-3 py-2 font-medium">Tradiciones</a>
                        <a href="#creditos" class="nav-link text-orange-200 hover:text-orange-300 px-3 py-2 font-medium">Créditos</a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sección Hero -->
    <section id="inicio" class="min-h-screen flex items-center justify-center relative overflow-hidden pt-16">
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>
        <div class="relative z-10 text-center max-w-4xl mx-auto px-4">
            <div class="floating mb-8">
                <span class="text-6xl candle-glow">🕯️</span>
                <span class="text-8xl">🏵️</span>
                <span class="text-6xl candle-glow">🕯️</span>
            </div>
            <h1 class="text-5xl md:text-7xl font-bold playfair-font mb-6 text-orange-300">
                El arte de la ofrenda Mexicana
            </h1>
            <p class="text-xl md:text-2xl mb-8 text-orange-100 max-w-3xl mx-auto leading-relaxed" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                El Día de Muertos es una tradición mexicana que honra a los difuntos, se pone una ofrenda a los seres queridos de cada persona que murieron, 
                con la intención de dialogar una vez más con ellos. Esta tradición se encuentra inscrita en la Lista Representativa del Patrimonio Cultural 
                Inmaterial de la Humanidad.
            </p>
            <div class="flex flex-col items-center justify-center space-y-4 md:flex-row md:space-x-4 md:space-y-0">
                <button onclick="scrollToSection('crear-memorial')" class="btn-primary px-8 py-4 rounded-full text-white font-semibold text-lg shadow-lg">
                    🌺 Crear Memorial
                </button>
                <button onclick="scrollToSection('galeria')" class="bg-transparent border-2 border-orange-400 text-orange-300 px-8 py-4 rounded-full font-semibold text-lg hover:bg-orange-400 hover:text-white transition-all duration-300">
                    Ver Memoriales
                </button>
            </div>
        </div>
    </section>

    <!-- Sección Crear Memorial -->
    <section id="crear-memorial" class="py-20 relative">
        <div class="max-w-4xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold playfair-font mb-6 text-orange-300">
                    Crea un Memorial Especial
                </h2>
                <p class="text-xl text-orange-100 max-w-2xl mx-auto" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                    Dedica un espacio sagrado para recordar a tu mascota querida con amor y gratitud
                </p>
            </div>

            <div class="memorial-card rounded-3xl p-8 shadow-2xl border border-orange-300">
                <form id="memorialForm" class="space-y-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-purple-800 font-semibold mb-3 text-lg">
                                🐾 Nombre de tu mascota
                            </label>
                            <input 
                                type="text" 
                                id="nombreMascota"
                                class="w-full px-4 py-3 rounded-xl border-2 border-orange-300 focus:border-purple-500 focus:outline-none text-gray-800 bg-white"
                                placeholder="Ejemplo: Rocky"
                                required
                            >
                        </div>
                        <div>
                            <label class="block text-purple-800 font-semibold mb-3 text-lg">
                                🎂 Años de vida
                            </label>
                            <input 
                                type="text" 
                                id="edadMascota"
                                class="w-full px-4 py-3 rounded-xl border-2 border-orange-300 focus:border-purple-500 focus:outline-none text-gray-800 bg-white"
                                placeholder="Ejemplo: 8 años"
                                required
                            >
                        </div>
                    </div>

                    <div>
                        <label class="block text-purple-800 font-semibold mb-3 text-lg">
                            🐕 Tipo de mascota
                        </label>
                        <select 
                            id="tipoMascota"
                            class="w-full px-4 py-3 rounded-xl border-2 border-orange-300 focus:border-purple-500 focus:outline-none text-gray-800 bg-white"
                            required
                        >
                            <option value="">Selecciona el tipo...</option>
                            <option value="perro">🐕 Perro</option>
                            <option value="gato">🐱 Gato</option>
                            <option value="ave">🐦 Ave</option>
                            <option value="conejo">🐰 Conejo</option>
                            <option value="hamster">🐹 Hámster</option>
                            <option value="pez">🐠 Pez</option>
                            <option value="reptil">🦎 Reptil</option>
                            <option value="otro">🐾 Otro</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-purple-800 font-semibold mb-3 text-lg">
                            📸 Foto de tu mascota
                        </label>
                        <div class="border-2 border-dashed border-orange-300 rounded-xl p-6 text-center hover:border-purple-500 transition-colors">
                            <input 
                                type="file" 
                                id="fotoMascota"
                                accept="image/*"
                                class="hidden"
                                onchange="handleImageUpload(this)"
                            >
                            <div id="uploadArea" onclick="document.getElementById('fotoMascota').click()" class="cursor-pointer">
                                <div class="text-4xl mb-2">📷</div>
                                <p class="text-purple-800 font-medium mb-1">Haz clic para subir una foto</p>
                                <p class="text-gray-600 text-sm">JPG, PNG o GIF (máx. 5MB)</p>
                            </div>
                            <div id="imagePreview" class="hidden mt-4">
                                <img id="previewImg" class="max-w-full h-48 object-cover rounded-lg mx-auto shadow-lg">
                                <button type="button" onclick="removeImage()" class="mt-2 text-red-500 hover:text-red-700 text-sm font-medium">
                                    ❌ Quitar foto
                                </button>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-purple-800 font-semibold mb-3 text-lg">
                            💝 Recuerdo Especial
                        </label>
                        <textarea 
                            id="recuerdo"
                            class="w-full px-4 py-3 rounded-xl border-2 border-orange-300 focus:border-purple-500 focus:outline-none text-gray-800 bg-white h-32 resize-none"
                            placeholder="Comparte tu recuerdo más querido de tu mascota..."
                            required
                        ></textarea>
                    </div>

                    <div>
                        <label class="block text-purple-800 font-semibold mb-3 text-lg">
                            🌺 Ofrenda Virtual
                        </label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <label class="flex flex-col items-center cursor-pointer p-4 border-2 border-orange-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all">
                                <input type="checkbox" name="ofrenda" value="flores" class="mb-2">
                                <span class="text-3xl mb-1">🌼</span>
                                <span class="text-purple-800 text-sm font-medium">Flores</span>
                            </label>
                            <label class="flex flex-col items-center cursor-pointer p-4 border-2 border-orange-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all">
                                <input type="checkbox" name="ofrenda" value="juguetes" class="mb-2">
                                <span class="text-3xl mb-1">🧸</span>
                                <span class="text-purple-800 text-sm font-medium">Juguetes</span>
                            </label>
                            <label class="flex flex-col items-center cursor-pointer p-4 border-2 border-orange-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all">
                                <input type="checkbox" name="ofrenda" value="comida" class="mb-2">
                                <span class="text-3xl mb-1">🦴</span>
                                <span class="text-purple-800 text-sm font-medium">Comida</span>
                            </label>
                            <label class="flex flex-col items-center cursor-pointer p-4 border-2 border-orange-200 rounded-xl hover:border-orange-400 hover:bg-orange-50 transition-all">
                                <input type="checkbox" name="ofrenda" value="velas" class="mb-2">
                                <span class="text-3xl mb-1">🕯️</span>
                                <span class="text-purple-800 text-sm font-medium">Velas</span>
                            </label>
                        </div>
                    </div>

                    <div class="text-center pt-6">
                        <button 
                            type="submit"
                            class="btn-primary px-12 py-4 rounded-full text-white font-bold text-xl shadow-lg"
                        >
                            🌺 Crear Memorial Eterno 🌺
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Sección Galería -->
    <section id="galeria" class="py-20 bg-black bg-opacity-30">
        <div class="max-w-6xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold playfair-font mb-6 text-orange-300">
                    Galería de Memorias
                </h2>
                <p class="text-xl text-orange-100 mb-6" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                    Cada mascota deja huellas eternas en nuestros corazones
                </p>
            </div>

            <div id="memorialGallery" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Los memoriales se agregarán aquí dinámicamente -->
            </div>
        </div>
    </section>

    <!-- Sección Tradiciones -->
    <section id="tradiciones" class="py-20 mt-16">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-5xl font-bold playfair-font mb-6 text-orange-300">
                    Tradiciones del altar de muertos 
                </h2>
                <p class="text-xl text-orange-100 mb-8 max-w-4xl mx-auto" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                   En el Día de Muertos, las familias mexicanas colocan una ofrenda para recibir a las almas de sus seres queridos. Cada elemento del altar tiene un profundo significado espiritual y simboliza el vínculo entre el mundo de los vivos y el de los muertos.
                </p>
            </div>

            <!-- Primera fila de tradiciones -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🏵️</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Flores de Cempasúchil</h3>
                    <p class="text-gray-700 mb-4">Las flores naranjas brillantes guían a las almas con su color y aroma.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Significado:</strong> Simbolizan la vida y la muerte: su brillo recuerda al sol, y su marchitez, la fragilidad humana.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🕯️</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Velas Conmemorativas</h3>
                    <p class="text-gray-700 mb-4">Iluminan el camino de las almas hacia el altar. Cada flama representa la fe y la esperanza.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Tradición:</strong> Una vela por cada año de vida, iluminando el altar durante toda la noche del 1 y 2 de noviembre. Se colocan tantas velas como almas se desean recibir.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🪔</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Copal</h3>
                    <p class="text-gray-700 mb-4">Su aroma purifica el ambiente y guía a las almas durante su visita.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Creencia:</strong> Simboliza la oración y el respeto hacia los difuntos.
                    </div>
                </div>
            </div>

            <!-- Segunda fila de tradiciones -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🌽</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Semillas</h3>
                    <p class="text-gray-700 mb-4">Representan la vida, la alimentación y la abundancia.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Tipos:</strong> Maíz, frijol, cacahuate y ajonjolí son los más usados.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🧂</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Sal</h3>
                    <p class="text-gray-700 mb-4">Elemento totalmente de purificación.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Uso:</strong> Permite que el cuerpo del difunto no se corrompa durante su viaje entre los muundos..
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">💧</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Agua</h3>
                    <p class="text-gray-700 mb-4">Un recipiente con agua limpia y fresca se ofrece para que las almas puedan calmar su sed después del largo viaje desde el más allá.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Importancia:</strong> El agua representa la vida y la purificación de la alma.
                    </div>
                </div>
            </div>

            <!-- Tercera fila de tradiciones -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🖼️</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Fotografías</h3>
                    <p class="text-gray-700 mb-4">Sus fotos más queridas ocupan el lugar central del altar, mostrando su personalidad y los momentos más felices de la persona en vida.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Tradición:</strong> La foto principal debe mostrarlos en sus mejores momentos de vida, rodeada de flores y velas.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">⚪</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Cal</h3>
                    <p class="text-gray-700 mb-4">Representa la limpieza del camaino y ayuda a las almas a encontrar la paz..</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Significado:</strong> El color blanco representa la pureza, respeto y  y la transición hacia la vida después de la muerte.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🍞</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Pan de muerto</h3>
                    <p class="text-gray-700 mb-4">Su forma redonda representa la eternidad y los “huesitos” decorativos, los antepasados que se recuerdan.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Significado:</strong> Simboliza el cuerpo de los difuntos y el ciclo de la vida y la muerte..
                    </div>
                </div>
            </div>

            <!-- Cuarta fila de tradiciones -->
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12">
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🌾</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Aserrín</h3>
                    <p class="text-gray-700 mb-4">Se utiliza para decorar los caminos y representa limpieza y respeto al recibir a los difuntos.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Tradición:</strong> Consiste en crear coloridos tapetes para guiar el camino de las almas.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🍲</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Comida tradicional</h3>
                    <p class="text-gray-700 mb-4">Se ofrece para que las almas disfruten los alimentos que más les gustaban en vida, como tamales, mole o frutas..</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Tradición:</strong> Honrar a los difuntos con sus platillos favoritos para que disfruten de su aroma y esencia, creyendo que las almas regresan a deleitarse con ellos.
                    </div>
                </div>
                
                <div class="memorial-card rounded-2xl p-6 text-center">
                    <div class="text-5xl mb-4">🦋</div>
                    <h3 class="text-2xl font-bold text-purple-800 mb-3">Alebrijes</h3>
                    <p class="text-gray-700 mb-4">Guías espirituales que acompañan y protegen a las almas durante su visita al mundo de los vivos.</p>
                    <div class="bg-orange-50 rounded-lg p-3 text-sm text-gray-600">
                        <strong>Representa:</strong> La unión entre lo real y lo imaginario.
                    </div>
                </div>
            </div>

            <!-- Sección especial sobre el altar -->
            <div class="memorial-card rounded-3xl p-8 text-center max-w-4xl mx-auto">
                <div class="text-6xl mb-6">🏛️</div>
                <h3 class="text-3xl font-bold text-purple-800 mb-6">Cómo Crear un Altar para tu Mascota</h3>
                
                <div class="grid md:grid-cols-2 gap-8 text-left">
                    <div>
                        <h4 class="text-xl font-bold text-orange-600 mb-4">📅 Fechas Importantes</h4>
                        <ul class="text-gray-700 space-y-2">
                            <li><strong>31 de Octubre:</strong> Preparación del altar</li>
                            <li><strong>1 de Noviembre:</strong> Día de las mascotas y niños</li>
                            <li><strong>2 de Noviembre:</strong> Día de los adultos</li>
                            <li><strong>3 de Noviembre:</strong> Despedida hasta el próximo año</li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-xl font-bold text-orange-600 mb-4">🎯 Elementos Esenciales</h4>
                        <ul class="text-gray-700 space-y-2">
                            <li>✅ Fotografía principal</li>
                            <li>✅ Flores de cempasúchil</li>
                            <li>✅ Velas </li>
                            <li>✅ Agua fresca</li>
                            <li>✅ Comida tradicional</li>
                            <li>✅ Alebrijes</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-8 bg-gradient-to-r from-orange-100 to-purple-100 rounded-2xl p-6">
                    <p class="text-purple-800 font-medium text-lg italic">
                        "El altar no es un lugar de tristeza, sino de celebración. Es donde el amor trasciende la muerte y donde los recuerdos cobran vida una vez más."
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="creditos" class="bg-black bg-opacity-80 py-12 border-t border-orange-500">
        <div class="max-w-4xl mx-auto px-4 text-center">
            <div class="mb-8">
                <span class="text-4xl">🐾</span>
                <h3 class="text-2xl font-bold playfair-font text-orange-300 mt-2">Memorias Eternas</h3>
            </div>
            <p class="text-orange-100 mb-8" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                "Siempre presente, siempre amado, en cada flor y aroma del altar."
            </p>
            
            <!-- Créditos -->
            <div class="bg-black bg-opacity-50 rounded-2xl p-8 mb-8 border border-orange-300">
                <h4 class="text-2xl font-bold text-orange-300 mb-6">Créditos</h4>
                <p class="text-orange-100 mb-3 text-lg" style="font-family: Georgia, 'Times New Roman', Times, serif; color: #f2ddbb;">
                    Elaborado por
                </p>
                <p class="text-orange-300 font-bold text-2xl mb-2">
                    🎓 FES Aragón - Ingeniería en Computación
                </p>
                <p class="text-orange-200 text-lg">
                    Universidad Nacional Autónoma de México
                </p>
                <div class="mt-4 text-orange-400">
                    <span class="text-2xl">🏛️</span>
                    <span class="ml-2 font-semibold">UNAM</span>
                </div>
            </div>
            
        </div>
    </footer>

    <!-- Modal de Éxito -->
    <div id="successModal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50">
        <div class="bg-white rounded-3xl p-8 max-w-md mx-4 text-center">
            <div class="text-6xl mb-4">🌺</div>
            <h3 class="text-2xl font-bold text-purple-800 mb-4">Memorial Creado</h3>
            <p class="text-gray-700 mb-6" >El memorial de tu mascota ha sido creado con amor y se ha agregado a nuestra galería de memorias eternas.</p>
            <button onclick="closeModal()" class="btn-primary px-8 py-3 rounded-full text-white font-semibold">
                Continuar
            </button>
        </div>
    </div>

    <script>
        // Función para scroll suave
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth'
            });
        }

        // Variables globales para la imagen
        let currentImageData = null;

        // Funciones para manejo de datos con data.json
        async function saveMemorialData(memorialData) {
            try {
                // Crear memorial con ID único
                const newMemorial = {
                    id: Date.now() + Math.random(),
                    timestamp: new Date().toISOString(),
                    ...memorialData
                };
                
                // Intentar guardar en data.json
                const response = await fetch('/api/memorials', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(newMemorial)
                });
                
                if (response.ok) {
                    console.log('Memorial guardado en data.json:', newMemorial);
                    return newMemorial;
                } else {
                    throw new Error('Error al guardar en servidor');
                }
            } catch (error) {
                console.warn('No se pudo guardar en data.json, usando localStorage:', error);
                
                // Fallback a localStorage
                try {
                    let existingData = JSON.parse(localStorage.getItem('memorialesData') || '[]');
                    const newMemorial = {
                        id: Date.now() + Math.random(),
                        timestamp: new Date().toISOString(),
                        ...memorialData
                    };
                    existingData.push(newMemorial);
                    localStorage.setItem('memorialesData', JSON.stringify(existingData));
                    return newMemorial;
                } catch (localError) {
                    console.error('Error al guardar memorial:', localError);
                    return null;
                }
            }
        }

        async function loadMemorialsData() {
            try {
                // Intentar cargar desde data.json
            const response = await fetch('/api/memorials');
                if (response.ok) {
                    const data = await response.json();
                    console.log('Datos cargados desde data.json');
                    return Array.isArray(data) ? data : [];
                } else {
                    throw new Error('No se pudo cargar data.json');
                }
            } catch (error) {
                console.warn('No se pudo cargar data.json, usando localStorage:', error);
                
                // Fallback a localStorage
                try {
                    const data = localStorage.getItem('memorialesData');
                    return data ? JSON.parse(data) : [];
                } catch (localError) {
                    console.error('Error al cargar memoriales:', localError);
                    return [];
                }
            }
        }

        // Función para manejar la subida de imagen
        function handleImageUpload(input) {
            const file = input.files[0];
            if (!file) return;

            // Validar tamaño (5MB máximo)
            if (file.size > 5 * 1024 * 1024) {
                alert('La imagen es demasiado grande. Por favor selecciona una imagen menor a 5MB 📸');
                return;
            }

            // Validar tipo de archivo
            if (!file.type.startsWith('image/')) {
                alert('Por favor selecciona un archivo de imagen válido 📸');
                return;
            }

            const reader = new FileReader();
            reader.onload = function(e) {
                currentImageData = e.target.result;
                
                // Mostrar preview
                const previewImg = document.getElementById('previewImg');
                const imagePreview = document.getElementById('imagePreview');
                const uploadArea = document.getElementById('uploadArea');
                
                previewImg.src = currentImageData;
                imagePreview.classList.remove('hidden');
                uploadArea.classList.add('hidden');
            };
            reader.readAsDataURL(file);
        }

        // Función para quitar imagen
        function removeImage() {
            currentImageData = null;
            document.getElementById('fotoMascota').value = '';
            document.getElementById('imagePreview').classList.add('hidden');
            document.getElementById('uploadArea').classList.remove('hidden');
        }

        // Manejo del formulario
        document.getElementById('memorialForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const nombre = document.getElementById('nombreMascota').value;
            const edad = document.getElementById('edadMascota').value;
            const tipo = document.getElementById('tipoMascota').value;
            const recuerdo = document.getElementById('recuerdo').value;
            const ofrendas = Array.from(document.querySelectorAll('input[name="ofrenda"]:checked')).map(cb => cb.value);
            
            if (!nombre || !edad || !tipo || !recuerdo) {
                alert('Por favor completa todos los campos requeridos 🌺');
                return;
            }
            
            // Preparar datos del memorial
            const memorialData = {
                nombre,
                edad,
                tipo,
                recuerdo,
                ofrendas,
                imagen: currentImageData
            };
            
            // Guardar memorial
            const savedMemorial = await saveMemorialData(memorialData);
            
            if (savedMemorial) {
                // Crear memorial en la galería
                createMemorialCard(nombre, edad, tipo, recuerdo, ofrendas, currentImageData);
                
                // Mostrar modal de éxito
                document.getElementById('successModal').classList.remove('hidden');
                
                // Limpiar formulario
                this.reset();
                removeImage();
            } else {
                alert('Hubo un error al guardar el memorial. Por favor intenta de nuevo 🌺');
            }
        });

        // Función para crear tarjeta de memorial
        function createMemorialCard(nombre, edad, tipo, recuerdo, ofrendas, imageData = null) {
            const gallery = document.getElementById('memorialGallery');
            
            const tipoEmojis = {
                'perro': '🐕',
                'gato': '🐱',
                'ave': '🐦',
                'conejo': '🐰',
                'hamster': '🐹',
                'pez': '🐠',
                'reptil': '🦎',
                'otro': '🐾'
            };
            
            const ofrendaEmojis = {
                'flores': '🌼',
                'juguetes': '🧸',
                'comida': '🦴',
                'velas': '🕯️'
            };
            
            const card = document.createElement('div');
            card.className = 'memorial-card rounded-2xl p-6 text-center';
            
            // Crear contenido con o sin imagen
            const imageSection = imageData ? 
                `<div class="mb-4">
                    <img src="${imageData}" alt="${nombre}" class="w-full h-48 object-cover rounded-xl shadow-lg mb-3">
                    <div class="text-3xl">${tipoEmojis[tipo] || '🐾'}</div>
                </div>` :
                `<div class="text-6xl mb-4">${tipoEmojis[tipo] || '🐾'}</div>`;
            
            card.innerHTML = `
                ${imageSection}
                <h3 class="text-2xl font-bold text-purple-800 mb-2">${nombre}</h3>
                <p class="text-orange-600 font-semibold mb-4">${edad}</p>
                <p class="text-gray-700 mb-4 text-sm leading-relaxed">${recuerdo}</p>
                <div class="flex justify-center space-x-2 mb-4">
                    ${ofrendas.map(ofrenda => `<span class="text-2xl">${ofrendaEmojis[ofrenda]}</span>`).join('')}
                </div>
                <div class="text-orange-500 text-sm font-medium mb-4">
                    "Siempre en nuestros corazones"
                </div>
                <button onclick="downloadMemorialCard(this)" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-4 py-2 rounded-full text-sm font-semibold transition-all transform hover:scale-105 shadow-lg">
                    📥 Descargar Tarjeta
                </button>
            `;
            
            gallery.appendChild(card);
            
            // Scroll a la galería
            setTimeout(() => {
                scrollToSection('galeria');
            }, 1000);
        }

        // Función para cerrar modal
        function closeModal() {
            document.getElementById('successModal').classList.add('hidden');
        }

        // Función para descargar tarjeta memorial como PNG
        function downloadMemorialCard(button) {
            const card = button.closest('.memorial-card');
            const nombre = card.querySelector('h3').textContent;
            
            // Crear canvas para la tarjeta
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Configurar tamaño del canvas (formato tarjeta)
            canvas.width = 600;
            canvas.height = 800;
            
            // Fondo degradado
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#1a0b2e');
            gradient.addColorStop(0.3, '#4a1942');
            gradient.addColorStop(0.7, '#8b4513');
            gradient.addColorStop(1, '#ff8c00');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Marco decorativo
            ctx.strokeStyle = '#ffa500';
            ctx.lineWidth = 8;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);
            
            // Fondo blanco semi-transparente para el contenido
            ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
            ctx.fillRect(40, 40, canvas.width - 80, canvas.height - 80);
            
            // Título "Memorial"
            ctx.fillStyle = '#4a1942';
            ctx.font = 'bold 36px serif';
            ctx.textAlign = 'center';
            ctx.fillText('🌺 Memorial Eterno 🌺', canvas.width / 2, 100);
            
            // Obtener datos de la tarjeta
            const nombreMascota = card.querySelector('h3').textContent;
            const edadMascota = card.querySelector('p').textContent;
            const recuerdo = card.querySelectorAll('p')[1].textContent;
            const imagen = card.querySelector('img');
            const ofrendas = Array.from(card.querySelectorAll('.text-2xl')).map(el => el.textContent).join(' ');
            
            let yPosition = 160;
            
            // Función para dibujar imagen si existe
            function drawImageAndContinue() {
                if (imagen) {
                    const img = new Image();
                    img.onload = function() {
                        // Dibujar imagen centrada
                        const imgSize = 200;
                        const imgX = (canvas.width - imgSize) / 2;
                        ctx.drawImage(img, imgX, yPosition, imgSize, imgSize);
                        yPosition += imgSize + 30;
                        drawTextContent();
                    };
                    img.src = imagen.src;
                } else {
                    // Dibujar emoji del tipo de mascota
                    const tipoEmoji = card.querySelector('.text-6xl, .text-3xl').textContent;
                    ctx.font = '120px serif';
                    ctx.fillText(tipoEmoji, canvas.width / 2, yPosition + 80);
                    yPosition += 140;
                    drawTextContent();
                }
            }
            
            // Función para dibujar el contenido de texto
            function drawTextContent() {
                // Nombre de la mascota
                ctx.fillStyle = '#8b4513';
                ctx.font = 'bold 42px serif';
                ctx.fillText(nombreMascota, canvas.width / 2, yPosition);
                yPosition += 50;
                
                // Edad
                ctx.fillStyle = '#ff8c00';
                ctx.font = '28px sans-serif';
                ctx.fillText(edadMascota, canvas.width / 2, yPosition);
                yPosition += 60;
                
                // Recuerdo (texto largo dividido en líneas)
                ctx.fillStyle = '#4a1942';
                ctx.font = '20px sans-serif';
                ctx.textAlign = 'left';
                
                const maxWidth = canvas.width - 100;
                const words = recuerdo.split(' ');
                let line = '';
                const lineHeight = 30;
                
                for (let i = 0; i < words.length; i++) {
                    const testLine = line + words[i] + ' ';
                    const metrics = ctx.measureText(testLine);
                    const testWidth = metrics.width;
                    
                    if (testWidth > maxWidth && i > 0) {
                        ctx.fillText(line, 50, yPosition);
                        line = words[i] + ' ';
                        yPosition += lineHeight;
                    } else {
                        line = testLine;
                    }
                }
                ctx.fillText(line, 50, yPosition);
                yPosition += 60;
                
                // Ofrendas
                if (ofrendas.trim()) {
                    ctx.font = '32px serif';
                    ctx.textAlign = 'center';
                    ctx.fillText(ofrendas, canvas.width / 2, yPosition);
                    yPosition += 60;
                }
                
                // Mensaje final
                ctx.fillStyle = '#ff8c00';
                ctx.font = 'italic 24px serif';
                ctx.fillText('"Siempre en nuestros corazones"', canvas.width / 2, yPosition);
                
                // Decoración final
                ctx.fillStyle = '#ffa500';
                ctx.font = '40px serif';
                ctx.fillText('🕯️ 🌼 🕯️', canvas.width / 2, canvas.height - 60);
                
                // Descargar la imagen
                const link = document.createElement('a');
                link.download = `memorial_${nombreMascota.replace(/\s+/g, '_')}.png`;
                link.href = canvas.toDataURL();
                link.click();
            }
            
            // Iniciar el proceso de dibujo
            drawImageAndContinue();
        }

        // Crear pétalos dinámicamente
        function createPetal() {
            const petal = document.createElement('div');
            petal.innerHTML = Math.random() > 0.5 ? '🌼' : '🌺';
            petal.className = 'petal-fall absolute text-xl pointer-events-none';
            petal.style.left = Math.random() * 100 + '%';
            petal.style.animationDuration = (Math.random() * 5 + 8) + 's';
            petal.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(petal);
            
            setTimeout(() => {
                petal.remove();
            }, 12000);
        }

        // Crear pétalos cada 4 segundos
        setInterval(createPetal, 4000);

        // Función para cargar memoriales guardados
        async function loadSavedMemorials() {
            const savedMemorials = await loadMemorialsData();
            const gallery = document.getElementById('memorialGallery');
            
            // Limpiar galería actual
            gallery.innerHTML = '';
            
            if (savedMemorials.length === 0) {
                gallery.innerHTML = `
                    <div class="col-span-full text-center py-12">
                        <div class="text-6xl mb-4">🌺</div>
                        <p class="text-orange-200 text-xl">No hay memoriales guardados aún</p>
                        <p class="text-orange-300 text-sm mt-2">Crea el primer memorial para tu mascota querida</p>
                    </div>
                `;
                return;
            }
            
            // Cargar cada memorial
            savedMemorials.forEach(memorial => {
                createMemorialCard(
                    memorial.nombre,
                    memorial.edad,
                    memorial.tipo,
                    memorial.recuerdo,
                    memorial.ofrendas || [],
                    memorial.imagen
                );
            });
        }

        // Cargar memoriales al iniciar la página
        window.addEventListener('load', async function() {
            // Primero verificar si hay memoriales guardados
            let savedMemorials = await loadMemorialsData();
            
            // Si no hay memoriales guardados, crear algunos de ejemplo
            if (savedMemorials.length === 0) {
                const ejemplos = [
                    {
                        nombre: 'Max',
                        edad: '12 años',
                        tipo: 'perro',
                        recuerdo: 'Siempre me esperaba en la puerta con su cola moviéndose. Era mi mejor amigo y compañero de aventuras.',
                        ofrendas: ['flores', 'juguetes']
                    },
                    {
                        nombre: 'Luna',
                        edad: '8 años',
                        tipo: 'gato',
                        recuerdo: 'Le encantaba dormir en mi regazo mientras trabajaba. Sus ronroneos eran la mejor música del mundo.',
                        ofrendas: ['velas', 'flores']
                    },
                    {
                        nombre: 'Pico',
                        edad: '5 años',
                        tipo: 'ave',
                        recuerdo: 'Cantaba todas las mañanas y me despertaba con alegría. Su melodía sigue resonando en mi corazón.',
                        ofrendas: ['flores', 'comida']
                    }
                ];
                
                // Guardar los ejemplos
                for (const ejemplo of ejemplos) {
                    await saveMemorialData(ejemplo);
                }
                
                // Actualizar la lista de memoriales
                savedMemorials = await loadMemorialsData();
            }
            
            // Cargar todos los memoriales en la galería
            await loadSavedMemorials();
        });
        async function enviarDatos() {
            const datos = {
                nombre: document.getElementById("nombre").value,
                mensaje: document.getElementById("mensaje").value
            };

            const res = await fetch('/api/data', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(datos)
            });

            const result = await res.json();
            alert(result.message);
            }

    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98c0bdabe262a09f',t:'MTc2MDA0MjkyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
